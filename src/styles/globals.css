@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		--background: 240 60% 88%;
		--foreground: 240 10% 15%;
		--card: 255 100% 95%;
		--card-foreground: 240 10% 15%;
		--popover: 255 100% 100%;
		--popover-foreground: 240 10% 15%;
		--primary: 330 100% 65%;
		--primary-foreground: 255 100% 98%;
		--secondary: 320 20% 95%;
		--secondary-foreground: 240 5.9% 20%;
		--muted: 320 15% 96%;
		--muted-foreground: 240 4.8% 26.1%;
		--accent: 320 15% 94%;
		--accent-foreground: 240 5.9% 20%;
		--destructive: 0 84.2% 60.2%;
		--destructive-foreground: 0 0% 98%;
		--border: 320 20% 90%;
		--input: 320 20% 90%;
		--ring: 330 100% 70%;
		--radius: 0.75rem;
		--sakura-primary: 330 100% 85%;
		--sakura-secondary: 340 80% 90%;
		--mountain-primary: 200 30% 85%;
		--mountain-secondary: 210 25% 90%;
		--video-width: 100vw;
		--video-height: 100vh;
	}

	.dark {
		--background: 240 10% 3.9%;
		--foreground: 0 0% 98%;
		--card: 240 10% 3.9%;
		--card-foreground: 0 0% 98%;
		--popover: 240 10% 3.9%;
		--popover-foreground: 0 0% 98%;
		--primary: 330 100% 75%;
		--primary-foreground: 240 5.9% 10%;
		--secondary: 240 3.7% 15.9%;
		--secondary-foreground: 0 0% 98%;
		--muted: 240 3.7% 15.9%;
		--muted-foreground: 240 5% 64.9%;
		--accent: 240 3.7% 15.9%;
		--accent-foreground: 0 0% 98%;
		--destructive: 0 62.8% 30.6%;
		--destructive-foreground: 0 0% 98%;
		--border: 240 3.7% 15.9%;
		--input: 240 3.7% 15.9%;
		--ring: 330 100% 75%;
		--sakura-primary: 330 100% 75%;
		--sakura-secondary: 340 80% 70%;
		--mountain-primary: 200 30% 25%;
		--mountain-secondary: 210 25% 20%;
	}
}

@layer base {
	* {
		@apply border-border;
	}

	html {
		/* Ensure light theme is default */
		color-scheme: light;
	}

	html.dark {
		color-scheme: dark;
	}

	body {
		@apply bg-background text-foreground;
		font-family: var(--font-open-sans), sans-serif;
		transition:
			background-color 0.3s ease,
			color 0.3s ease;
		overflow-x: hidden;
	}

	/* Ensure all sections handle overflow properly */
	section {
		overflow-x: hidden;
		position: relative;
	}
}

@layer utilities {
	.pixel-corners {
		clip-path: polygon(
			0% 6px,
			6px 6px,
			6px 0%,
			calc(100% - 6px) 0%,
			calc(100% - 6px) 6px,
			100% 6px,
			100% calc(100% - 6px),
			calc(100% - 6px) calc(100% - 6px),
			calc(100% - 6px) 100%,
			6px 100%,
			6px calc(100% - 6px),
			0% calc(100% - 6px)
		);
	}

	.dithered-light {
		background-image: url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 4 4' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1 0H0V1H1V0ZM3 0H2V1H3V0ZM1 2H0V3H1V2ZM3 2H2V3H3V2Z' fill='rgba(255,105,180,0.68)'/%3E%3C/svg%3E");
		background-repeat: repeat;
	}

	.dithered-dark {
		background-image: url("data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 4 4' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1 0H0V1H1V0ZM3 0H2V1H3V0ZM1 2H0V3H1V2ZM3 2H2V3H3V2Z' fill='rgba(255,105,180,0.85)'/%3E%3C/svg%3E");
		background-repeat: repeat;
	}

	.sakura-bg-light {
		background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 4C20 4 24 10 20 16C16 22 20 28 20 28C20 28 16 22 20 16C24 10 20 4 20 4Z' fill='rgba(255,182,193,0.65)'/%3E%3Cpath d='M20 4C20 4 16 10 20 16C24 22 20 28 20 28C20 28 24 22 20 16C16 10 20 4 20 4Z' fill='rgba(255,182,193,0.15)'/%3E%3Cpath d='M28 20C28 20 22 16 16 20C10 24 4 20 4 20C4 20 10 24 16 20C22 16 28 20 28 20Z' fill='rgba(255,182,193,0.15)'/%3E%3Cpath d='M28 20C28 20 22 24 16 20C10 16 4 20 4 20C4 20 10 16 16 20C22 24 28 20 28 20Z' fill='rgba(255,182,193,0.15)'/%3E%3C/svg%3E");
	}

	.sakura-bg-dark {
		background-image: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 4C20 4 24 10 20 16C16 22 20 28 20 28C20 28 16 22 20 16C24 10 20 4 20 4Z' fill='rgba(255,182,193,0.85)'/%3E%3Cpath d='M20 4C20 4 16 10 20 16C24 22 20 28 20 28C20 28 24 22 20 16C16 10 20 4 20 4Z' fill='rgba(255,182,193,0.25)'/%3E%3Cpath d='M28 20C28 20 22 16 16 20C10 24 4 20 4 20C4 20 10 24 16 20C22 16 28 20 28 20Z' fill='rgba(255,182,193,0.25)'/%3E%3Cpath d='M28 20C28 20 22 24 16 20C10 16 4 20 4 20C4 20 10 16 16 20C22 24 28 20 28 20Z' fill='rgba(255,182,193,0.25)'/%3E%3C/svg%3E");
	}

	.retro-grid-light {
		background-size: 30px 30px;
		background-image:
			linear-gradient(to right, rgba(255, 105, 180, 0.08) 1px, transparent 1px),
			linear-gradient(to bottom, rgba(255, 105, 180, 0.08) 1px, transparent 1px);
	}

	.retro-grid-dark {
		background-size: 30px 30px;
		background-image:
			linear-gradient(to right, rgba(255, 105, 180, 0.15) 1px, transparent 1px),
			linear-gradient(to bottom, rgba(255, 105, 180, 0.15) 1px, transparent 1px);
	}

	.mountain-bg-light {
		background-image: url("data:image/svg+xml,%3Csvg width='200' height='100' viewBox='0 0 200 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 100L40 60L80 70L120 40L160 50L200 30V100H0Z' fill='rgba(147,197,253,0.1)'/%3E%3Cpath d='M0 100L30 80L70 85L110 65L150 70L200 55V100H0Z' fill='rgba(147,197,253,0.08)'/%3E%3C/svg%3E");
		background-repeat: repeat-x;
		background-position: bottom;
	}

	.mountain-bg-dark {
		background-image: url("data:image/svg+xml,%3Csvg width='200' height='100' viewBox='0 0 200 100' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 100L40 60L80 70L120 40L160 50L200 30V100H0Z' fill='rgba(147,197,253,0.85)'/%3E%3Cpath d='M0 100L30 80L70 85L110 65L150 70L200 55V100H0Z' fill='rgba(147,197,253,0.62)'/%3E%3C/svg%3E");
		background-repeat: repeat-x;
		background-position: bottom;
	}
}

.animate-float {
	animation: float 6s ease-in-out infinite;
}

@keyframes float {
	0% {
		transform: translateY(0px);
	}
	50% {
		transform: translateY(-20px);
	}
	100% {
		transform: translateY(0px);
	}
}

.animate-bounce-slow {
	animation: bounce 3s infinite;
}

.animate-sakura-fall {
	animation: sakuraFall 15s linear infinite;
}

@keyframes sakuraFall {
	0% {
		transform: translateY(-10vh) rotate(0deg);
		opacity: 0;
	}
	10% {
		opacity: 1;
	}
	90% {
		opacity: 1;
	}
	100% {
		transform: translateY(110vh) rotate(360deg);
		opacity: 0;
	}
}

.animate-sticker-bounce {
	animation: stickerBounce 2s ease-in-out infinite;
}

@keyframes stickerBounce {
	0%,
	100% {
		transform: translateY(0) rotate(-5deg);
	}
	50% {
		transform: translateY(-10px) rotate(5deg);
	}
}

.animate-video {
	animation: video-in 2s ease-in forwards;
	animation-delay: 2s;
	opacity: 0;
}

@keyframes video-in {
	0% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}

.video-overlay {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	background: linear-gradient(
		135deg,
		rgba(255, 182, 193, 0.438) 0%,
		rgba(255, 105, 180, 0.397) 50%,
		rgba(147, 196, 253, 0.623) 100%
	);
	z-index: 1;
}

.dark .video-overlay {
	background: linear-gradient(
		135deg,
		rgba(44, 39, 40, 0.459) 0%,
		rgba(161, 65, 113, 0.301) 50%,
		rgba(79, 108, 138, 0.452) 100%
	);
}

/* Magnetic button effect */
.magnetic-button {
	transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.magnetic-button:hover {
	transform: scale(1.05);
}

/* Ensure stickers don't cause overflow */
.sticker-container {
	overflow: visible !important;
}

/*/---------------------------------------------------  Blog  ----------------------------------------------------/*/

html {
	scroll-behavior: smooth;
}

h1 > a > .icon.icon-link:before,
h2 > a > .icon.icon-link:before,
h3 > a > .icon.icon-link:before {
	content: '#';
	font-size: 0.8rem;
}

h2 > a,
h3 > a {
	text-decoration: none !important;
}

pre {
	color: #fff;
	background-color: #2a2c2d;
	overflow-x: auto;
	padding: 15px 1em 15px 1em;
	font-weight: 400;
	font-size: 0.875em;
	line-height: 1.7142857;
	margin-top: 1.7em;
	margin-bottom: 2em;
	border-radius: 0.375rem;
}

pre code {
	background-color: transparent;
	border-width: 0;
	border-radius: 0;
	font-size: inherit;
	font-family: inherit;
	line-height: inherit;
}

code:not(pre code) {
	background: #ff99b1;
	color: rgb(0, 0, 0);
	padding: 0.125rem 0.25rem;
	border-radius: 0.25rem;
	font-size: 0.875em;
	font-weight: 600;
	border: 1px solid rgb(64, 64, 64);
	margin-bottom: 1.25em;
}

#mdx-content a:not(.no-underline) {
	text-decoration: none;
	background-repeat: no-repeat;
	background-size: 100% 1.5px;
	background-position: 0 100%;
	background-image: linear-gradient(to right, #cc9ea8, #ff99b1);
	color: #18272f;
	font-weight: 700;
	position: relative;
	transition: all 0.2s ease-in-out;
}

#mdx-content a:not(.no-underline):hover {
	background-image: linear-gradient(to right, #ff99b1, #ffc6d3);
	background-size: 100% 100%;
	color: #18272f;
}

#mdx-content a:not(.no-underline)::after {
	content: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewbox='0 0 12.2 12.2' width='14' height='14'%3E%3Cpath d='M5.7 0v1.5h4L4.5 6.7l1 1.1 5.3-5.2v3.9h1.4V0z'/%3E%3Cpath fill='none' d='M3.4 6.7l3-2.9H1.5v7h7V5.9l-3 2.9z'/%3E%3Cpath d='M8.5 5.9v4.9h-7v-7h4.9l1.5-1.6H0v10h10V4.4z'/%3E%3C/svg%3E");
	margin-left: 0.25em;
}

blockquote {
	font-size: 1.4em;
	width: 100%;
	margin-top: 5px;
	margin-bottom: 50px;
	font-family: Open Sans;
	font-style: italic;
	color: #1a1a1a;
	padding: 1.2em 20px 0.5em 75px;
	border-left: 8px solid #ff99b1;
	line-height: 1.6;
	position: relative;
	background: #ededed;
}

blockquote::before {
	font-family: Arial;
	content: '\201C';
	color: #ff99b1;
	font-size: 4em;
	position: absolute;
	left: 10px;
	top: -10px;
}

blockquote::after {
	content: '';
}

blockquote span {
	display: block;
	color: #333333;
	font-style: normal;
	font-weight: bold;
	margin-top: 1em;
}

#mdx-content img {
	max-width: 100%;
	max-height: 60vh;

	height: auto;
	margin-top: 1.5em;
	margin-bottom: 1.5em;
}

#mdx-content p:has(img) {
	display: flex;
	justify-content: center;
	align-items: center;
	content: 'Image';
	width: 100%;
}

#mdx-content iframe {
	max-width: 100%;
	margin-top: 1.5em;
	margin-bottom: 1.5em;
}

#mdx-content div:has(iframe) {
	display: flex;
	justify-content: center;
	align-items: center;
	width: 100%;
}

/*------------------------------------- MARKDOWN BASE --------------------------------------------------------------------------------------*/

h1 {
	font-size: 2.5rem;
	font-weight: 700;
	line-height: 1.2;
	margin-bottom: 1rem;
}

h2 {
	font-size: 1.5rem;
	font-weight: 700;
	line-height: 1.2;
	margin-bottom: 1rem;
}

h3 {
	font-size: 1.25rem;
	font-weight: 700;
	line-height: 1.2;
	margin-bottom: 1rem;
}

p {
	font-size: 1rem;
	line-height: 1.5;
	margin-bottom: 1rem;
}

ul {
	margin-bottom: 1rem;
}

li {
	margin-bottom: 0.25rem;
	/* round decoration */
	list-style-type: disc;
}
